---
import CitationBadge from "./CitationBadge.astro";

interface Props {
  items?: { id?: string; title: string; href?: string; snippet?: string }[];
  class?: string;
}

const { items = [], class: className = '' } = Astro.props as Props;
---

<ul class={`citations-list ${className}`}>
  {items.map(item => (
    <li class="citation-item">
      <div class="citation-meta">
        <CitationBadge label={item.title} href={item.href} />
      </div>
      {item.snippet ? <p class="citation-snippet">{item.snippet}</p> : null}
    </li>
  ))}
</ul>

<style>
.citations-list { list-style: none; padding: 0; margin: 0; display:flex; flex-direction:column; gap: var(--space-3); }
.citation-item { padding: var(--space-2); border-radius: var(--radius-sm); background: var(--color-surface-default); border: 1px solid var(--color-border-default); }
.citation-meta { display:flex; gap: var(--space-2); align-items:center; }
.citation-snippet { margin: var(--space-2) 0 0 0; color: var(--color-text-secondary); font-size: 0.95rem; }
</style>