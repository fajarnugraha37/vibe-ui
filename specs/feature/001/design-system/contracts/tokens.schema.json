{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.invalid/schemas/design-system/tokens.schema.json",
  "title": "Design System Tokens + Themes (v1)",
  "type": "object",
  "additionalProperties": false,
  "required": ["tokens", "themes"],
  "properties": {
    "tokens": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/$defs/token" }
    },
    "themes": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/$defs/theme" }
    }
  },
  "$defs": {
    "tokenId": {
      "type": "string",
      "minLength": 3,
      "pattern": "^[a-z0-9]+(\\.[a-z0-9]+)+$"
    },
    "tokenLayer": {
      "type": "string",
      "enum": ["foundation", "semantic", "component"]
    },
    "tokenType": {
      "type": "string",
      "enum": ["color", "space", "radius", "shadow", "motion", "font"]
    },
    "token": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "layer", "type", "description"],
      "properties": {
        "id": { "$ref": "#/$defs/tokenId" },
        "layer": { "$ref": "#/$defs/tokenLayer" },
        "type": { "$ref": "#/$defs/tokenType" },
        "description": { "type": "string", "minLength": 1 },
        "deprecated": { "type": "boolean" },
        "replacedBy": { "$ref": "#/$defs/tokenId" }
      }
    },
    "themeId": {
      "type": "string",
      "enum": ["light", "dark"]
    },
    "contrastMode": {
      "type": "string",
      "enum": ["default", "high"]
    },
    "theme": {
      "type": "object",
      "additionalProperties": false,
      "required": ["id", "contrast", "values"],
      "properties": {
        "id": { "$ref": "#/$defs/themeId" },
        "contrast": { "$ref": "#/$defs/contrastMode" },
        "values": {
          "type": "object",
          "propertyNames": { "$ref": "#/$defs/tokenId" },
          "additionalProperties": { "type": "string", "minLength": 1 }
        }
      }
    }
  }
}

